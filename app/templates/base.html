<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}ORDIVA{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename = 'css/style.css') }}">
</head>
<body>
    <header>
        <div class="container">
            <img src="{{ url_for('static', filename='images/logo.png') }}" alt="JetSetGo Logo" class="logo">
            <nav>
                <a href="{{ url_for('view.home') }}">Home</a>
                <a href="{{ url_for('main.about') }}">About Us</a>
                {% if 'user_id' in session and 'user_email' in session %}    
                    <a href="{{ url_for('auth.logout') }}">Logout</a>
                {% else %}
                    <a href="{{ url_for('auth.login') }}">Login</a>
                {% endif %}
                <a href="{{ url_for('auth.register') }}">Register</a>
            </nav>
        </div>
    </header>

    <main class="container">
        {% with messages = get_flashed_messages(with_categories = True) %}
            {% for category, message in messages %}
                 <div class="flash {{category}}">{{ message }}</div>
            {% endfor %}
        {% endwith %}

        {% block content %} {% endblock %}
    </main>

    <footer>
        <div class="container">
            <p>&copy; {{ 2025 }} JetSetGo Travel Planner</p>
        </div>
    </footer>

    {% block scripts %}{% endblock %}


    <canvas id="particles"></canvas>

<script>
const canvas = document.getElementById("particles");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let particles = [];

for (let i = 0; i < 60; i++) {
    particles.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        size: Math.random() * 2 + 1,
        vx: (Math.random() - 0.5) * 0.6,
        vy: (Math.random() - 0.5) * 0.6
    });
}

function drawParticles() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    particles.forEach(p => {
        ctx.fillStyle = "#ff2ecc";
        ctx.shadowBlur = 15;
        ctx.shadowColor = "#ff2ecc";
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
        ctx.fill();

        p.x += p.vx;
        p.y += p.vy;

        if (p.x < 0 || p.x > canvas.width) p.vx *= -1;
        if (p.y < 0 || p.y > canvas.height) p.vy *= -1;
    });

    requestAnimationFrame(drawParticles);
}

drawParticles();

window.onresize = () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
};
</script>


</body>
</html>